labs(x = "", y = "Measure per 100.000", fill = "Measure",
title = "Rate of DALYs, YLDs and YLLs by location, sex and year")
p4 <- GBD %>%
filter (metric =="Rate", year == "2019", sex == "Both",
measure == "DALYs")
ggplot(p4, mapping = aes(x = location, y = cause, fill = val_cat))+
geom_tile(color = "white", lwd = 0)+
geom_shadowtext(aes(label = round(val, digits = 0)), color = "white",
size = 2.3) +
scale_fill_viridis_d(direction = -1)+
theme_minimal() +
labs(title = "DALYs per 100.000 for each cause
by country in 2019, both sexes", fill = "DALYs per 100.000",
x = "", y= "")+
theme(
axis.text.x = element_text(hjust = 1,
angle = 45,
size = 8),
plot.title = element_text(hjust = 0.9))
GBD <- readr::read_csv(file = here::here("IHME-GBD_2019_DATA-4a978572-1.csv"))
GBDrates <- readr::read_csv(file = here::here("IHME-GBD_2019_DATA-8d671f94-1.csv"))
SDI <- readr::read_csv(file = here::here("IHME_GBD_2019_SDI_1990_2019_Y2020M10D15.csv"))
SDI <- SDI %>%
filter(Location %in% c("Argentina",
"Bolivia",
"Brazil",
"Chile",
"Colombia",
"Ecuador",
"Guyana",
"Paraguay",
"Peru",
"Suriname",
"Uruguay",
"Venezuela")) %>%
select("Location", "1990", "2019") %>%
pivot_longer(cols = c("1990", "2019"),
names_to = "year",
values_to = "SDI")
GBDrates <- GBDrates %>%
mutate(measure = recode(measure,
"YLDs (Years Lived with Disability)" = "YLDs",
"YLLs (Years of Life Lost)" = "YLLs",
"DALYs (Disability-Adjusted Life Years)" = "DALYs")) %>%
mutate(location = recode(location,
"Bolivia (Plurinational State of)" = "Bolivia",
"Venezuela (Bolivarian Republic of)" = "Venezuela")) %>%
mutate(year_end = as.factor(year_end)) %>%
select(-c("age", "rei", "year_start")) %>%
rename(ROCval = val, ROCupper = upper, ROClower = lower)
GBD <- GBD %>%
mutate(measure = recode(measure,
"YLDs (Years Lived with Disability)" = "YLDs",
"YLLs (Years of Life Lost)" = "YLLs",
"DALYs (Disability-Adjusted Life Years)" = "DALYs")) %>%
mutate(location = recode(location,
"Bolivia (Plurinational State of)" = "Bolivia",
"Venezuela (Bolivarian Republic of)" = "Venezuela"))%>%
mutate(val_cat = cut(x = GBD$val,
breaks = c(-Inf, 1, 10, 100, 500,
1000, 2500, 5000, Inf),
labels = c("0 - 1",
"1 - 10",
"10 - 100",
"100 - 500",
"500 - 1000",
"1000 - 2500",
"2500 - 5000",
">5000"))) %>%
mutate(year = as.factor(year)) %>%
full_join(SDI, by = c("location" = "Location", "year" = "year")) %>%
full_join(GBDrates, by = c("location" = "location",
"measure" = "measure",
"sex" = "sex",
"cause" = "cause",
"metric" = "metric",
"year" = "year_end"))
rm("GBDrates", "SDI") #don't wanna waste my precious RAM...
GBD <- readr::read_csv(file = here::here("IHME-GBD_2019_DATA-4a978572-1.csv"))
GBDrates <- readr::read_csv(file = here::here("IHME-GBD_2019_DATA-8d671f94-1.csv"))
SDI <- readr::read_csv(file = here::here("IHME_GBD_2019_SDI_1990_2019_Y2020M10D15.csv"))
SDI <- SDI %>%
filter(Location %in% c("Argentina",
"Bolivia",
"Brazil",
"Chile",
"Colombia",
"Ecuador",
"Guyana",
"Paraguay",
"Peru",
"Suriname",
"Uruguay",
"Venezuela")) %>%
select("Location", "1990", "2019") %>%
pivot_longer(cols = c("1990", "2019"),
names_to = "year",
values_to = "SDI")
GBDrates <- GBDrates %>%
mutate(measure = recode(measure,
"YLDs (Years Lived with Disability)" = "YLDs",
"YLLs (Years of Life Lost)" = "YLLs",
"DALYs (Disability-Adjusted Life Years)" = "DALYs")) %>%
mutate(location = recode(location,
"Bolivia (Plurinational State of)" = "Bolivia",
"Venezuela (Bolivarian Republic of)" = "Venezuela")) %>%
mutate(year_end = as.factor(year_end)) %>%
select(-c("age", "rei", "year_start")) %>%
rename(ROC_val = val, ROC_upper = upper, ROC_lower = lower)
GBD <- GBD %>%
mutate(measure = recode(measure,
"YLDs (Years Lived with Disability)" = "YLDs",
"YLLs (Years of Life Lost)" = "YLLs",
"DALYs (Disability-Adjusted Life Years)" = "DALYs")) %>%
mutate(location = recode(location,
"Bolivia (Plurinational State of)" = "Bolivia",
"Venezuela (Bolivarian Republic of)" = "Venezuela"))%>%
mutate(val_cat = cut(x = GBD$val,
breaks = c(-Inf, 1, 10, 100, 500,
1000, 2500, 5000, Inf),
labels = c("0 - 1",
"1 - 10",
"10 - 100",
"100 - 500",
"500 - 1000",
"1000 - 2500",
"2500 - 5000",
">5000"))) %>%
mutate(year = as.factor(year)) %>%
full_join(SDI, by = c("location" = "Location", "year" = "year")) %>%
full_join(GBDrates, by = c("location" = "location",
"measure" = "measure",
"sex" = "sex",
"cause" = "cause",
"metric" = "metric",
"year" = "year_end"))
rm("GBDrates", "SDI") #don't wanna waste my precious RAM...
p4 <- GBD %>%
filter (metric =="Rate", year == "2019", sex == "Both",
measure == "DALYs")
ggplot(p4, mapping = aes(x = location, y = cause, fill = val_cat))+
geom_tile(color = "white", lwd = 0)+
geom_shadowtext(aes(label = round(val, digits = 0)), color = "white",
size = 2.3) +
scale_fill_viridis_d(direction = -1)+
theme_minimal() +
labs(title = "DALYs per 100.000 for each cause
by country in 2019, both sexes", fill = "DALYs per 100.000",
x = "", y= "")+
theme(
axis.text.x = element_text(hjust = 1,
angle = 45,
size = 8),
plot.title = element_text(hjust = 0.9))
p5 <- GBD %>%
filter (metric =="Rate", sex == "Both")
ggplot()+
geom_tile(data = p5,
mapping = aes(x = location,
y = cause,
fill = val_cat),
color = "white")+
geom_shadowtext(data = p5,
aes(x = location,
y = cause,
label = round(val, digits = 0)),
color = "white",
size = 2.3) +
facet_grid(vars(year), vars(measure))+
scale_fill_viridis_d(direction = -1)+
theme_minimal() +
coord_fixed(ratio = 1)+
labs(title = "DALYs, YLDs, YLLs and deaths related to HFPG per 100.000 by cause for South America countries in 1990 and 2019",
fill = "Measure per 100.000", y = "", x = "")+
theme(axis.text.x = element_text(hjust = 1,
angle = 45,
size = 6),
plot.title = element_text(hjust = 0.5),
title = element_text(size = 7))
esquisser()
p6 <- GBD %>%
filter(measure %in% "DALYs") %>%
filter(sex %in% "Both") %>%
filter(cause %in% "All causes") %>%
filter(metric %in% "Rate") %>%
filter(year %in% "2019")
ggplot() +
aes(
x = SDI,
y = ROC_val,
fill = location,
colour = location
) +
geom_point(shape = "circle", size = 1.5) +
scale_fill_hue(direction = 1) +
scale_color_hue(direction = 1) +
theme_classic()
p6 <- GBD %>%
filter(measure %in% "DALYs") %>%
filter(sex %in% "Both") %>%
filter(cause %in% "All causes") %>%
filter(metric %in% "Rate") %>%
filter(year %in% "2019")
ggplot(p6) +
aes(
x = SDI,
y = ROC_val,
fill = location,
colour = location
) +
geom_point(shape = "circle", size = 1.5) +
scale_fill_hue(direction = 1) +
scale_color_hue(direction = 1) +
theme_classic()
p6 <- GBD %>%
filter(measure %in% "DALYs") %>%
filter(sex %in% "Both") %>%
filter(cause %in% "All causes") %>%
filter(metric %in% "Rate") %>%
filter(year %in% "2019")
ggplot(p6) +
aes(
x = SDI,
y = ROC_val,
fill = location,
colour = location
) +
geom_point(shape = "circle", size = 2) +
scale_fill_hue(direction = 1) +
scale_color_hue(direction = 1) +
theme_classic()
p6 <- GBD %>%
filter(measure %in% "DALYs") %>%
filter(sex %in% "Both") %>%
filter(cause %in% "All causes") %>%
filter(metric %in% "Rate") %>%
filter(year %in% "2019")
ggplot(p6) +
aes(
x = SDI,
y = ROC_val,
fill = location,
colour = location
) +
geom_point(shape = "circle", size = 2) +
geom_smooth(lm)+
scale_fill_hue(direction = 1) +
scale_color_hue(direction = 1) +
theme_classic()
p6 <- GBD %>%
filter(measure %in% "DALYs") %>%
filter(sex %in% "Both") %>%
filter(cause %in% "All causes") %>%
filter(metric %in% "Rate") %>%
filter(year %in% "2019")
ggplot(p6) +
geom_point(aes(x = SDI,
y = ROC_val,
fill = location,
colour = location),
shape = "circle", size = 2) +
geom_smooth(lm)+
scale_fill_hue(direction = 1) +
scale_color_hue(direction = 1) +
theme_classic()
p6 <- GBD %>%
filter(measure %in% "DALYs") %>%
filter(sex %in% "Both") %>%
filter(cause %in% "All causes") %>%
filter(metric %in% "Rate") %>%
filter(year %in% "2019")
ggplot(p6) +
geom_point(aes(x = SDI,
y = ROC_val,
fill = location,
colour = location),
shape = "circle", size = 2) +
geom_smooth(method = lm, x = SDI, y = ROC_val)+
scale_fill_hue(direction = 1) +
scale_color_hue(direction = 1) +
theme_classic()
p6 <- GBD %>%
filter(measure %in% "DALYs") %>%
filter(sex %in% "Both") %>%
filter(cause %in% "All causes") %>%
filter(metric %in% "Rate") %>%
filter(year %in% "2019")
ggplot(p6) +
geom_point(aes(x = SDI,
y = ROC_val,
fill = location,
colour = location),
shape = "circle", size = 2) +
geom_smooth(method = lm, x = "SDI", y = "ROC_val")+
scale_fill_hue(direction = 1) +
scale_color_hue(direction = 1) +
theme_classic()
p6 <- GBD %>%
filter(measure %in% "DALYs") %>%
filter(sex %in% "Both") %>%
filter(cause %in% "All causes") %>%
filter(metric %in% "Rate") %>%
filter(year %in% "2019")
ggplot(p6) +
geom_point(aes(x = SDI,
y = ROC_val,
fill = location,
colour = location),
shape = "circle", size = 2) +
geom_smooth(method = lm, aes(x = "SDI", y = "ROC_val")+
scale_fill_hue(direction = 1) +
scale_color_hue(direction = 1) +
theme_classic()
View(p6)
p6 <- GBD %>%
filter(measure %in% "DALYs") %>%
filter(sex %in% "Both") %>%
filter(cause %in% "All causes") %>%
filter(metric %in% "Rate") %>%
filter(year %in% "2019")
ggplot(p6, aes(x = "SDI", y = "ROC_val")) +
geom_point(aes(fill = location,
colour = location,
shape = "circle", size = 2)) +
geom_smooth(method = lm)+
scale_fill_hue(direction = 1) +
scale_color_hue(direction = 1) +
theme_classic()
p6 <- GBD %>%
filter(measure %in% "DALYs") %>%
filter(sex %in% "Both") %>%
filter(cause %in% "All causes") %>%
filter(metric %in% "Rate") %>%
filter(year %in% "2019")
ggplot(p6, aes(x = SDI, y = ROC_val)) +
geom_point(aes(fill = location,
colour = location,
shape = "circle", size = 2)) +
geom_smooth(method = lm)+
scale_fill_hue(direction = 1) +
scale_color_hue(direction = 1) +
theme_classic()
p6 <- GBD %>%
filter(measure %in% "DALYs") %>%
filter(sex %in% "Both") %>%
filter(cause %in% "All causes") %>%
filter(metric %in% "Rate") %>%
filter(year %in% "2019")
ggplot(p6, aes(x = SDI, y = ROC_val)) +
geom_point(aes(fill = location,
colour = location,
shape = "circle", size = 2)) +
scale_fill_hue(direction = 1) +
scale_color_hue(direction = 1) +
theme_classic()
p6 <- GBD %>%
filter(measure %in% "DALYs") %>%
filter(sex %in% "Both") %>%
filter(cause %in% "All causes") %>%
filter(metric %in% "Rate") %>%
filter(year %in% "2019")
ggplot(p6, aes(x = SDI, y = ROC_val)) +
geom_point(aes(fill = location,
colour = location,
shape = "circle", size = 1.7)) +
scale_fill_hue(direction = 1) +
scale_color_hue(direction = 1) +
theme_classic()
p6 <- GBD %>%
filter(measure %in% "DALYs") %>%
filter(sex %in% "Both") %>%
filter(cause %in% "All causes") %>%
filter(metric %in% "Rate") %>%
filter(year %in% "2019")
ggplot(p6, aes(x = SDI, y = ROC_val)) +
geom_point(aes(fill = location,
colour = location),
size = 1.7)) +
p6 <- GBD %>%
filter(measure %in% "DALYs") %>%
filter(sex %in% "Both") %>%
filter(cause %in% "All causes") %>%
filter(metric %in% "Rate") %>%
filter(year %in% "2019")
ggplot(p6, aes(x = SDI, y = ROC_val)) +
geom_point(aes(fill = location,
colour = location),
size = 1.7) +
scale_fill_hue(direction = 1) +
scale_color_hue(direction = 1) +
theme_classic()
p6 <- GBD %>%
filter(measure %in% "DALYs") %>%
filter(sex %in% "Both") %>%
filter(cause %in% "All causes") %>%
filter(metric %in% "Rate") %>%
filter(year %in% "2019")
ggplot(p6, aes(x = SDI, y = ROC_val)) +
geom_point(aes(fill = location,
colour = location),
size = 1.7) +
scale_fill_hue(direction = 1) +
scale_color_hue(direction = 1) +
theme_classic()
p6 <- GBD %>%
filter(measure %in% "DALYs") %>%
filter(sex %in% "Both") %>%
filter(cause %in% "All causes") %>%
filter(metric %in% "Rate") %>%
filter(year %in% "2019")
ggplot(p6, aes(x = SDI, y = ROC_val)) +
geom_point(aes(fill = location,
colour = location),
size = 3) +
scale_fill_hue(direction = 1) +
scale_color_hue(direction = 1) +
theme_classic()
p6 <- GBD %>%
filter(measure == "DALYs") %>%
filter(sex == "Both") %>%
filter(cause == "All causes") %>%
filter(metric == "Rate") %>%
filter(year == "2019")
ggplot(p6, aes(x = SDI, y = ROC_val)) +
geom_point(aes(fill = location,
colour = location),
size = 3) +
scale_fill_hue(direction = 1) +
scale_color_hue(direction = 1) +
theme_classic()+
labels(y = "DALYs rate of change in 1990-2019")
p6 <- GBD %>%
filter(measure == "DALYs") %>%
filter(sex == "Both") %>%
filter(cause == "All causes") %>%
filter(metric == "Rate") %>%
filter(year == "2019")
ggplot(p6, aes(x = SDI, y = ROC_val)) +
geom_point(aes(fill = location,
colour = location),
size = 3) +
scale_fill_hue(direction = 1) +
scale_color_hue(direction = 1) +
theme_classic()+
labs(y = "DALYs rate of change in 1990-2019")
library(readr)
GBD_POP_1990_2020 <- read_csv("GBD_POP_1990_2020.CSV")
View(GBD_POP_1990_2020)
View(GBD_POP_1990_2020)
View(GBD_POP_1990_2020)
unique(GBD_POP_1990_2020$location_name)
View(GBD_POP_1990_2020)
library(ggplot2)
library(ggthemes)
library(plotly)
library(tidyverse)
library(readr)
library(here)
library(maps)
library(ggmap)
library(maptools)
library(hrbrthemes)
library(shadowtext)
install.packages(naturalearth)
install.packages("naturalearth")
devtools::install_github("naturalearthhires")
devtools::install_github("AndySouth/rnaturalearthhires")
library(devtools)
install.packages("rnaturalearth")
library(devtools)
library(usethis)
library(ggplot2)
library(ggthemes)
library(plotly)
library(tidyverse)
library(readr)
library(here)
# library(maps)
# library(ggmap)
# library(maptools)
library(rnaturalearth)
library(hrbrthemes)
library(shadowtext)
SA <- ne_countries(country = c("Brazil", "Uruguay", "Argentina",
"French Guiana", "Suriname", "Colombia",
"Venezuela", "Bolivia", "Ecuador", "Chile",
"Paraguay", "Peru", "Guyana"))
plot(SA)
SA <- ne_countries(country = c("Brazil", "Uruguay", "Argentina",
"French Guiana", "Suriname", "Colombia",
"Venezuela", "Bolivia", "Ecuador", "Chile",
"Paraguay", "Peru", "Guyana"),
returnclass = "sf")
plot(SA)
SA <- ne_countries(country = c("Brazil", "Uruguay", "Argentina",
"French Guiana", "Suriname", "Colombia",
"Venezuela", "Bolivia", "Ecuador", "Chile",
"Paraguay", "Peru", "Guyana"),
returnclass = "sf")
max.plot(SA)
SA$name
SA <- ne_countries(country = c("Brazil", "Uruguay", "Argentina",
"French Guiana", "Suriname", "Colombia",
"Venezuela", "Bolivia", "Ecuador", "Chile",
"Paraguay", "Peru", "Guyana"),
returnclass = "sf")
ggplot()+
geom_sf(data = SA)
install.packages("rnaturalearthhires")
install.packages("rtools")
install.packages("remotes")
remotes::install_github("AndySouth/rnaturalearthhires")
