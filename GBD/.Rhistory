color = measure, group = measure))+
facet_grid(vars(sex), vars(location))+
theme_minimal() +
theme(
axis.text.x = element_text(hjust = 1,
angle = 45,
size = 8),
axis.text.y = element_text(hjust = 0,5,
angle = 0,
size = 8),
strip.text.x = element_text(
angle = 45,
size = 8),
strip.text.y = element_text(hjust = 0.8, size = 8),
panel.background = element_blank(),
panel.border = element_blank())+
coord_cartesian(ylim = c(0,7000))+
labs(x = "", y = "Measure per 100.000", fill = "Measure",
title = "Rate of DALYs, YLDs and YLLs by location, sex and year")
rm(p)
p <- GBD %>%
filter (metric =="Rate", year == "2019", sex == "Both",
measure == "DALYs", age == "Age-standardized")
ggplot(p, mapping = aes(x = location, y = cause, fill = val_cat))+
geom_tile(color = "white", lwd = 0)+
geom_shadowtext(aes(label = round(val, digits = 0)), color = "white",
size = 2.3) +
scale_fill_viridis_d(direction = -1)+
ggthemes::theme_base() +
labs(title = "DALYs per 100.000 for each cause
by country in 2019, both sexes", fill = "DALYs per 100.000",
x = "", y= "")+
theme(
axis.text.x = element_text(hjust = 1,
angle = 45,
size = 8),
plot.title = element_text(hjust = 0.9))
rm(p)
p <- GBD %>%
filter (metric =="Rate", sex == "Both", age == "Age-standardized")
ggplot()+
geom_tile(data = p,
mapping = aes(x = location,
y = cause,
fill = val_cat),
color = "white")+
geom_shadowtext(data = p,
aes(x = location,
y = cause,
label = round(val, digits = 0)),
color = "white",
size = 2.3) +
facet_grid(vars(year), vars(measure))+
scale_fill_viridis_d(direction = -1)+
ggthemes::theme_base() +
coord_fixed(ratio = 1)+
labs(title = "DALYs, YLDs, YLLs and deaths related to HFPG per 100.000 by cause for South America countries in 1990 and 2019",
fill = "Measure per 100.000", y = "", x = "")+
theme(axis.text.x = element_text(hjust = 1,
angle = 45,
size = 6),
plot.title = element_text(hjust = 0.5),
title = element_text(size = 7))
rm(p)
p <- GBD %>%
filter(measure == "DALYs") %>%
filter(sex == "Both") %>%
filter(cause == "All causes") %>%
filter(metric == "Rate") %>%
filter(year == "2019") %>%
filter(age == "Age-standardized")
ggplot(p, aes(x = SDI, y = ROC_val)) +
geom_point(aes(fill = location,
colour = location),
size = 3) +
scale_fill_hue(direction = 1) +
scale_color_hue(direction = 1) +
geom_hline(yintercept = 0, colour = "gray")+
ggthemes::theme_base() +
labs(y = "DALYs anual rate of change in 1990-2019(%)",
x = "SDI in 2019")
rm(p)
p <- GBD %>% filter(sex == "Both",
cause == "All causes",
age == "Age-standardized")
ggplot()+
geom_sf(data = SA_map)+
coord_sf(xlim = c(-35,-85))+
theme_classic()
rm(p)
p <- GBD %>% filter(sex == "Both",
cause == "All causes",
age == "Age-standardized")
View(p)
p <- GBD %>% filter(sex == "Both",
cause == "All causes",
age == "Age-standardized",
metric != "Percent")
View(SA_map)
p <- GBD %>% filter(sex == "Both",
cause == "All causes",
age == "Age-standardized",
metric != "Percent")
q <- SA_map %>%
full_join(p, by = c(location))
p <- GBD %>% filter(sex == "Both",
cause == "All causes",
age == "Age-standardized",
metric != "Percent")
q <- SA_map %>%
full_join(p, by = c("location"))
p <- GBD %>% filter(sex == "Both",
cause == "All causes",
age == "Age-standardized",
metric != "Percent")
q <- SA_map %>%
full_join(p, by = c("location"="admin"))
p <- GBD %>% filter(sex == "Both",
cause == "All causes",
age == "Age-standardized",
metric != "Percent")
q <- SA_map %>%
full_join(p, by = c("admin"="location"))
ggplot()+
geom_sf(data = q)+
coord_sf(xlim = c(-35,-85))+
theme_classic()
rm(p)
View(q)
p <- GBD %>% filter(sex == "Both",
cause == "All causes",
age == "Age-standardized",
metric != "Percent")
q <- SA_map %>%
full_join(p, by = c("admin"="location"))
ggplot()+
geom_sf(data = q, )+
coord_sf(xlim = c(-35,-85))+
theme_classic()
View(p)
p <- GBD %>% filter(sex == "Both",
cause == "All causes",
age == "Age-standardized",
metric != "Percent")
q <- SA_map %>%
full_join(p, by = c("admin"="location"))
ggplot()+
geom_sf(data = q %>% filter(metric == "Rate"), fill = val)+
coord_sf(xlim = c(-35,-85))+
theme_classic()
View(p)
p <- GBD %>% filter(sex == "Both",
cause == "All causes",
age == "Age-standardized",
metric != "Percent")
q <- SA_map %>%
full_join(p, by = c("admin"="location"))
ggplot()+
geom_sf(data = q %>% filter(metric == "Rate",
measure == "DALYs"), fill = val)+
coord_sf(xlim = c(-35,-85))+
theme_classic()
p <- GBD %>% filter(sex == "Both",
cause == "All causes",
age == "Age-standardized",
metric != "Percent")
q <- SA_map %>%
full_join(p, by = c("admin"="location"))
ggplot()+
geom_sf(data = q %>% filter(metric == "Rate",
measure == "DALYs"), aes(fill = val))+
coord_sf(xlim = c(-35,-85))+
theme_classic()
p <- GBD %>% filter(sex == "Both",
cause == "All causes",
age == "Age-standardized",
metric != "Percent")
q <- SA_map %>%
full_join(p, by = c("admin"="location"))
ggplot()+
geom_sf(data = q %>% filter(metric == "Rate",
measure == "DALYs"), aes(fill = val))+
coord_sf(xlim = c(-35,-85))+
theme_classic()
ggplot()+
geom_sf(data = q %>% filter(metric == "Rate",
measure == "YLDs"), aes(fill = val))+
coord_sf(xlim = c(-35,-85))+
theme_classic()
ggplot()+
geom_sf(data = q %>% filter(metric == "Rate",
measure == "YLLs"), aes(fill = val))+
coord_sf(xlim = c(-35,-85))+
theme_classic()
ggplot()+
geom_sf(data = q %>% filter(metric == "Rate",
measure == "Deaths"), aes(fill = val))+
coord_sf(xlim = c(-35,-85))+
theme_classic()
p <- GBD %>% filter(sex == "Both",
cause == "All causes",
age == "Age-standardized",
metric != "Percent")
q <- SA_map %>%
full_join(p, by = c("admin"="location"))
ggplot()+
geom_sf(data = q %>% filter(metric == "Rate",
measure == "DALYs"), aes(fill = val))+
coord_sf(xlim = c(-35,-85))+
theme_classic()
+labs(title = unique(measure))
p <- GBD %>% filter(sex == "Both",
cause == "All causes",
age == "Age-standardized",
metric != "Percent")
q <- SA_map %>%
full_join(p, by = c("admin"="location"))
ggplot()+
geom_sf(data = q %>% filter(metric == "Rate",
measure == "DALYs"), aes(fill = val))+
coord_sf(xlim = c(-35,-85))+
theme_classic()
+labs(title = unique(q$measure))
p <- GBD %>% filter(sex == "Both",
cause == "All causes",
age == "Age-standardized",
metric != "Percent")
q <- SA_map %>%
full_join(p, by = c("admin"="location"))
ggplot()+
geom_sf(data = q %>% filter(metric == "Rate",
measure == "DALYs"), aes(fill = val))+
coord_sf(xlim = c(-35,-85))+
theme_classic()
+labs(title = str(unique(q$measure)))
p <- GBD %>% filter(sex == "Both",
cause == "All causes",
age == "Age-standardized",
metric != "Percent")
q <- SA_map %>%
full_join(p, by = c("admin"="location"))
ggplot()+
geom_sf(data = q %>% filter(metric == "Rate",
measure == "DALYs"), aes(fill = val))+
coord_sf(xlim = c(-35,-85))+
theme_classic()
+labs(title = "DALYs rate")
p <- GBD %>% filter(sex == "Both",
cause == "All causes",
age == "Age-standardized",
metric != "Percent")
q <- SA_map %>%
full_join(p, by = c("admin"="location"))
ggplot()+
geom_sf(data = q %>% filter(metric == "Rate",
measure == "DALYs"), aes(fill = val))+
coord_sf(xlim = c(-35,-85))+
theme_classic()+
labs(title = "DALYs rate")
ggplot()+
geom_sf(data = q %>% filter(metric == "Rate",
measure == "YLDs"), aes(fill = val))+
coord_sf(xlim = c(-35,-85))+
theme_classic()
ggplot()+
geom_sf(data = q %>% filter(metric == "Rate",
measure == "YLLs"), aes(fill = val))+
coord_sf(xlim = c(-35,-85))+
theme_classic()
ggplot()+
geom_sf(data = q %>% filter(metric == "Rate",
measure == "Deaths"), aes(fill = val))+
coord_sf(xlim = c(-35,-85))+
theme_classic()
p <- GBD %>% filter(sex == "Both",
cause == "All causes",
age == "Age-standardized",
metric != "Percent")
q <- SA_map %>%
full_join(p, by = c("admin"="location"))
ggplot()+
geom_sf(data = q %>% filter(metric == "Rate",
measure == "DALYs"), aes(fill = val))+
coord_sf(xlim = c(-35,-85))+
theme_classic()+
labs(title = str(unique(measure)))
p <- GBD %>% filter(sex == "Both",
cause == "All causes",
age == "Age-standardized",
metric != "Percent")
q <- SA_map %>%
full_join(p, by = c("admin"="location"))
ggplot()+
geom_sf(data = q %>% filter(metric == "Rate",
measure == "DALYs"), aes(fill = val))+
coord_sf(xlim = c(-35,-85))+
theme_classic()+
labs(title = str(unique(q$measure)))
ggplot()+
geom_sf(data = q %>% filter(metric == "Rate",
measure == "YLDs"), aes(fill = val))+
coord_sf(xlim = c(-35,-85))+
theme_classic()
ggplot()+
geom_sf(data = q %>% filter(metric == "Rate",
measure == "YLLs"), aes(fill = val))+
coord_sf(xlim = c(-35,-85))+
theme_classic()
ggplot()+
geom_sf(data = q %>% filter(metric == "Rate",
measure == "Deaths"), aes(fill = val))+
coord_sf(xlim = c(-35,-85))+
theme_classic()
p <- GBD %>% filter(sex == "Both",
cause == "All causes",
age == "Age-standardized",
metric != "Percent")
q <- SA_map %>%
full_join(p, by = c("admin"="location"))
ggplot()+
geom_sf(data = q %>% filter(metric == "Rate",
measure == "DALYs"), aes(fill = val))+
coord_sf(xlim = c(-35,-85))+
theme_classic()+
labs(title = "DALYs")
ggplot()+
geom_sf(data = q %>% filter(metric == "Rate",
measure == "YLDs"), aes(fill = val))+
coord_sf(xlim = c(-35,-85))+
theme_classic()+
labs(title = "YLDs")
ggplot()+
geom_sf(data = q %>% filter(metric == "Rate",
measure == "YLLs"), aes(fill = val))+
coord_sf(xlim = c(-35,-85))+
theme_classic()+
labs(title = "YLLs")
ggplot()+
geom_sf(data = q %>% filter(metric == "Rate",
measure == "Deaths"), aes(fill = val))+
coord_sf(xlim = c(-35,-85))+
theme_classic()+
labs(title = "Deaths")
p <- GBD %>% filter(sex == "Both",
cause == "All causes",
age == "Age-standardized",
metric != "Percent")
q <- SA_map %>%
full_join(p, by = c("admin"="location"))
ggplot()+
geom_sf(data = q %>% filter(metric == "Rate",
measure == "DALYs"), aes(fill = val))+
coord_sf(xlim = c(-35,-85))+
theme_classic()+
labs(title = "DALYs rate")
ggplot()+
geom_sf(data = q %>% filter(metric == "Rate",
measure == "YLDs"), aes(fill = val))+
coord_sf(xlim = c(-35,-85))+
theme_classic()+
labs(title = "YLDs rate")
ggplot()+
geom_sf(data = q %>% filter(metric == "Rate",
measure == "YLLs"), aes(fill = val))+
coord_sf(xlim = c(-35,-85))+
theme_classic()+
labs(title = "YLLs rate")
ggplot()+
geom_sf(data = q %>% filter(metric == "Rate",
measure == "Deaths"), aes(fill = val))+
coord_sf(xlim = c(-35,-85))+
theme_classic()+
labs(title = "Deaths rate")
p <- GBD %>% filter(sex == "Both",
cause == "All causes",
age == "Age-standardized",
metric != "Percent")
q <- SA_map %>%
full_join(p, by = c("admin"="location"))
ggplot()+
geom_sf(data = q %>% filter(metric == "Number",
measure == "DALYs"), aes(fill = val))+
coord_sf(xlim = c(-35,-85))+
theme_classic()+
labs(title = "DALYs Number")
ggplot()+
geom_sf(data = q %>% filter(metric == "Number",
measure == "YLDs"), aes(fill = val))+
coord_sf(xlim = c(-35,-85))+
theme_classic()+
labs(title = "YLDs Number")
ggplot()+
geom_sf(data = q %>% filter(metric == "Number",
measure == "YLLs"), aes(fill = val))+
coord_sf(xlim = c(-35,-85))+
theme_classic()+
labs(title = "YLLs Number")
ggplot()+
geom_sf(data = q %>% filter(metric == "Number",
measure == "Deaths"), aes(fill = val))+
coord_sf(xlim = c(-35,-85))+
theme_classic()+
labs(title = "Deaths Number")
ggplot()+
geom_sf(data = q %>% filter(metric == "Number",
measure == "DALYs"), aes(fill = val))+
coord_sf(xlim = c(-35,-85))+
theme_classic()+
labs(title = "DALYs rate")
ggplot()+
geom_sf(data = q %>% filter(metric == "Rate",
measure == "YLDs"), aes(fill = val))+
coord_sf(xlim = c(-35,-85))+
theme_classic()+
labs(title = "YLDs rate")
ggplot()+
geom_sf(data = q %>% filter(metric == "Rate",
measure == "YLLs"), aes(fill = val))+
coord_sf(xlim = c(-35,-85))+
theme_classic()+
labs(title = "YLLs rate")
ggplot()+
geom_sf(data = q %>% filter(metric == "Rate",
measure == "Deaths"), aes(fill = val))+
coord_sf(xlim = c(-35,-85))+
theme_classic()+
labs(title = "Deaths rate")
library(ggplot2)
library(ggthemes)
library(plotly)
library(tidyverse)
library(readr)
library(here)
# library(maps)
# library(ggmap)
# library(maptools)
library(rnaturalearth)
library(rnaturalearthdata)
library(rnaturalearthhires)
library(hrbrthemes)
library(shadowtext)
GBD <- readr::read_csv(file = here::here("GBD_vals.csv"))
GBD_2 <- readr::read_csv(file= here::here("GBD_2.csv"))
GBDrates <- readr::read_csv(file = here::here("GBD_ROC.csv"))
SDI <- readr::read_csv(file = here::here("GBD_SDI_1990_2019.csv"))
GBD_POP_2019 <- read_csv(file = here::here("GBD_POP_2019.CSV"))
GBD_POP_1990 <- read_csv(file = here::here("GBD_POP_1990.CSV"))
View(GBD_2)
library(readr)
GBD_3 <- read_csv("GBD_3.csv")
View(GBD_3)
library(readr)
GBD_4 <- read_csv("GBD_4.csv")
View(GBD_4)
GBD <- readr::read_csv(file = here::here("GBD_vals.csv"))
GBD_2 <- readr::read_csv(file= here::here("GBD_2.csv"))
GBDrates <- readr::read_csv(file = here::here("GBD_ROC.csv"))
SDI <- readr::read_csv(file = here::here("GBD_SDI_1990_2019.csv"))
GBD_POP_2019 <- read_csv(file = here::here("GBD_POP_2019.CSV"))
GBD_POP_1990 <- read_csv(file = here::here("GBD_POP_1990.CSV"))
GBD_4 <- read_csv("GBD_4.csv")
GBD_3 <- read_csv("GBD_3.csv")
SEV <- read_csv("SEV.csv")
SEV_ROC <- read_csv("SEV_ROC.csv")
GBD <- readr::read_csv(file = here::here("GBD_vals.csv"))
GBD_2 <- readr::read_csv(file= here::here("GBD_2.csv"))
GBD_ROC <- readr::read_csv(file = here::here("GBD_ROC.csv"))
SDI <- readr::read_csv(file = here::here("GBD_SDI_1990_2019.csv"))
GBD_POP_2019 <- read_csv(file = here::here("GBD_POP_2019.CSV"))
GBD_POP_1990 <- read_csv(file = here::here("GBD_POP_1990.CSV"))
GBD_4 <- read_csv("GBD_4.csv")
GBD_3 <- read_csv("GBD_3.csv")
SEV <- read_csv("SEV.csv")
SEV_ROC <- read_csv("SEV_ROC.csv")
#From GBD tools
GBD_1 <- readr::read_csv(file = here::here("GBD_vals.csv"))
GBD_2 <- readr::read_csv(file= here::here("GBD_2.csv"))
GBD_3 <- read_csv("GBD_3.csv")
GBD_4 <- read_csv("GBD_4.csv")
SEV <- read_csv("SEV.csv")
SEV_ROC <- read_csv("SEV_ROC.csv")
GBD_ROC <- readr::read_csv(file = here::here("GBD_ROC.csv"))
#From GHDx
SDI <- readr::read_csv(file = here::here("GBD_SDI_1990_2019.csv"))
GBD_POP_2019 <- read_csv(file = here::here("GBD_POP_2019.CSV"))
GBD_POP_1990 <- read_csv(file = here::here("GBD_POP_1990.CSV"))
GBD_1 %>% summarise_all()
lapply(GBd_1, unique)
lapply(GBD_1, unique)
lapply(GBD_1 %>% select(-c(val, lower, upper)), unique)
lapply(GBD_2 %>% select(-c(val, lower, upper)), unique)
lapply(GBD_3 %>% select(-c(val, lower, upper)), unique)
lapply(GBD_4 %>% select(-c(val, lower, upper)), unique)
View(SDI)
#From GBD tools
GBD_3 <- readr::read_csv(file = here::here("GBD_3.csv"))
GBD_4 <- readr::read_csv(file = here::here("GBD_4.csv"))
SEV <- readr::read_csv(file = here::here("SEV.csv"))
#Rate of changes
SEV_ROC <- readr::read_csv(file = here::here("SEV_ROC.csv"))
GBD_ROC <- readr::read_csv(file = here::here("GBD_ROC.csv"))
#From GHDx
SDI <- readr::read_csv(file = here::here("GBD_SDI_1990_2019.csv"))
GBD_POP_2019 <- read_csv(file = here::here("GBD_POP_2019.CSV"))
GBD_POP_1990 <- read_csv(file = here::here("GBD_POP_1990.CSV"))
GBD <- GBD_3 %>%
bind_rows(GBD_4) %>%
bind_rows(SEV)
rm(GBD_3, GBD_4, SEV) #Dont waste my precious RAM
View(GBD)
View(GBD_POP_1990)
View(GBD_POP_1990)
