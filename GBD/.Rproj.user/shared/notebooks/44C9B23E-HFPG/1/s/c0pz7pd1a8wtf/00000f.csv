"0",""
"0","SA <- ne_countries(scale = ""medium"","
"0","                   type = ""map_units"","
"0","                   returnclass = ""sf"") %>% "
"0","      filter(name %in% c(""Argentina"","
"0","                         ""Bolivia"","
"0","                         ""Brazil"","
"0","                         ""Chile"","
"0","                         ""Colombia"","
"0","                         ""Ecuador"","
"0","                         ""Guyana"","
"0","                         ""Paraguay"","
"0","                         ""Peru"","
"0","                         ""Suriname"","
"0","                         ""Uruguay"","
"0","                         ""Venezuela""))"
"0",""
"0","SDI <- SDI %>%"
"0","          filter(Location %in% c(""Argentina"","
"0","                 ""Bolivia"","
"0","                 ""Brazil"","
"0","                 ""Chile"","
"0","                 ""Colombia"","
"0","                 ""Ecuador"","
"0","                 ""Guyana"","
"0","                 ""Paraguay"","
"0","                 ""Peru"","
"0","                 ""Suriname"","
"0","                 ""Uruguay"","
"0","                 ""Venezuela"")) %>% "
"0","          select(""Location"", ""1990"", ""2019"") %>% "
"0","          pivot_longer(cols = c(""1990"", ""2019""), "
"0","                       names_to = ""year"", "
"0","                       values_to = ""SDI"")"
"0",""
"0","GBDrates <- GBDrates %>% "
"0","            mutate(measure = recode(measure,"
"0","            ""YLDs (Years Lived with Disability)"" = ""YLDs"","
"0","            ""YLLs (Years of Life Lost)"" = ""YLLs"","
"0","            ""DALYs (Disability-Adjusted Life Years)"" = ""DALYs"")) %>% "
"0","            mutate(location = recode(location,"
"0","           ""Bolivia (Plurinational State of)"" = ""Bolivia"","
"0","           ""Venezuela (Bolivarian Republic of)"" = ""Venezuela"")) %>% "
"0","            mutate(year_end = as.factor(year_end)) %>% "
"0","            select(-c(""rei"", ""year_start"")) %>% "
"0","            rename(ROC_val = val, ROC_upper = upper, ROC_lower = lower)"
"0",""
"0","GBD <- GBD %>% "
"0","          mutate(measure = recode(measure,"
"0","            ""YLDs (Years Lived with Disability)"" = ""YLDs"","
"0","            ""YLLs (Years of Life Lost)"" = ""YLLs"","
"0","            ""DALYs (Disability-Adjusted Life Years)"" = ""DALYs"")) %>% "
"0","          mutate(location = recode(location,"
"0","           ""Bolivia (Plurinational State of)"" = ""Bolivia"","
"0","           ""Venezuela (Bolivarian Republic of)"" = ""Venezuela""))%>% "
"0","          mutate(val_cat = cut(x = GBD$val,"
"0","                               breaks = c(-Inf, 1, 10, 100, 500, "
"0","                                                 1000, 2500, 5000, Inf),"
"0","                               labels = c(""0 - 1"","
"0","                                          ""1 - 10"","
"0","                                          ""10 - 100"","
"0","                                          ""100 - 500"","
"0","                                          ""500 - 1000"","
"0","                                          ""1000 - 2500"","
"0","                                          ""2500 - 5000"","
"0","                                          "">5000""))) %>% "
"0","          mutate(year = as.factor(year)) %>% "
"0","          full_join(SDI, by = c(""location"" = ""Location"", ""year"" = ""year"")) %>% "
"0","          full_join(GBDrates, by = c(""location"" = ""location"","
"0","                                     ""measure"" = ""measure"","
"0","                                     ""sex"" = ""sex"","
"0","                                     ""cause"" = ""cause"","
"0","                                     ""metric"" = ""metric"","
"0","                                     ""year"" = ""year_end"","
"0","                                     ""age"" = ""age"")) %>% "
"0","          full_join(SA %>% select(c(""admin"", ""sov_a3"")),"
"0","                    by = c(""location"" = ""admin""))"
"0","          #%>% "
"0","          # full_join(GBD_POP_1990,"
"0","          #           by = c(""location"" = ""location_name"","
"0","          #                  ""sex"" = ""sex_name"","
"0","          #                  ""year"" = ""year_id"","
"0","          #                  ""age"" = ""age_group_name"")) %>% "
"0","          # full_join(GBD_POP_2019,"
"0","          #           by = c(""location"" = ""location_name"","
"0","          #                  ""sex"" = ""sex_name"","
"0","          #                  ""year"" = ""year_id"","
"0","          #                  ""age"" = ""age_group_name""))"
"0",""
"0",""
"0",""
"0","GBD_SA <- GBD %>%"
"0","          filter(age == ""All ages"") %>% "
"0","          group_by(measure, cause, metric, year) %>% "
"0","          summarise(location = ""South America"","
"0","                    val = sum(val)) %>% "
"0","          filter(metric == ""Number"") %>% "
"0","          mutate(age = ""All ages"")%>% "
"0","          inner_join(GBD_POP_all %>% select(year, pop), by = ""year"") %>% "
"0","          mutate(val_rate = (val/pop)*100000)"
"2","`summarise()` has grouped output by 'measure', 'cause', 'metric'. You can override using the `.groups` argument."
"2","Adding missing grouping variables: `sex_name`"
"0","rm(""GBDrates"", ""SDI"") #don't wanna waste my precious RAM..."
